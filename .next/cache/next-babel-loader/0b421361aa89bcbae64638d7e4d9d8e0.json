{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Layout from '../../components/layout';\nimport Campaign from '../../ethereum/campaign';\nimport { Card, Grid, Button } from 'semantic-ui-react';\nimport web3 from '../../ethereum/web3';\nimport ContributeForm from '../../components/ContributeForm';\nimport { Link } from '../../routes';\n\nvar CampaignShow =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CampaignShow, _Component);\n\n  function CampaignShow() {\n    _classCallCheck(this, CampaignShow);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CampaignShow).apply(this, arguments));\n  }\n\n  _createClass(CampaignShow, [{\n    key: \"renderCards\",\n    value: function renderCards() {\n      var _this$props = this.props,\n          balance = _this$props.balance,\n          manager = _this$props.manager,\n          minimumContribution = _this$props.minimumContribution,\n          requestsCount = _this$props.requestsCount,\n          approversCount = _this$props.approversCount;\n      var items = [{\n        header: manager,\n        meta: 'Address of Manager',\n        description: 'The manager created this campaign and can create requests to withdraw money.',\n        style: {\n          overflowWrap: 'break-word'\n        }\n      }, {\n        header: minimumContribution,\n        meta: 'Minimum Contribution (wei)',\n        description: 'You must contribute at least this much of wei to contribute.',\n        style: {\n          overflowWrap: 'break-word'\n        }\n      }, {\n        header: requestsCount,\n        meta: 'Number of requests',\n        description: 'A request try to withdraw money.',\n        style: {\n          overflowWrap: 'break-word'\n        }\n      }, {\n        header: approversCount,\n        meta: 'Number of approvers',\n        description: 'Number of people who have already contributed.',\n        style: {\n          overflowWrap: 'break-word'\n        }\n      }, {\n        header: web3.utils.fromWei(balance, 'ether'),\n        meta: 'Campaign Balance (ether)',\n        description: 'The balance is how much money this campaign has left to spend.',\n        style: {\n          overflowWrap: 'break-word'\n        }\n      }];\n      return __jsx(Card.Group, {\n        items: items\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Layout, null, __jsx(\"h1\", null, \"Campaign show\"), __jsx(Grid, null, __jsx(Grid.Row, null, __jsx(Grid.Column, {\n        width: 10\n      }, this.renderCards()), __jsx(Grid.Column, {\n        width: 6\n      }, __jsx(ContributeForm, {\n        address: this.props.address\n      }))), __jsx(Grid.Row, null, __jsx(Grid.Column, null, __jsx(Link, {\n        route: \"/campaigns/\".concat(this.props.address, \"/requests\")\n      }, __jsx(\"a\", null, __jsx(Button, {\n        primary: true\n      }, \"View Requests\")))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(props) {\n        var address, campaign, summary;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                address = props.query.address;\n                campaign = Campaign(address);\n                _context.next = 4;\n                return campaign.methods.getSummary().call();\n\n              case 4:\n                summary = _context.sent;\n                console.log(summary);\n                return _context.abrupt(\"return\", {\n                  address: props.query.address,\n                  minimumContribution: summary[0],\n                  balance: summary[1],\n                  requestsCount: summary[2],\n                  approversCount: summary[3],\n                  manager: summary[4]\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return CampaignShow;\n}(Component);\n\nexport default CampaignShow;","map":{"version":3,"sources":["/home/anju/sol/kickstart/pages/campaigns/show.js"],"names":["React","Component","Layout","Campaign","Card","Grid","Button","web3","ContributeForm","Link","CampaignShow","props","balance","manager","minimumContribution","requestsCount","approversCount","items","header","meta","description","style","overflowWrap","utils","fromWei","renderCards","address","query","campaign","methods","getSummary","call","summary","console","log"],"mappings":"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","sourcesContent":["import React,{Component} from 'react'\nimport Layout from '../../components/layout'\nimport Campaign from '../../ethereum/campaign'\nimport { Card,Grid ,Button} from 'semantic-ui-react';\nimport web3 from '../../ethereum/web3';\nimport ContributeForm from '../../components/ContributeForm'\nimport {Link} from '../../routes';\nclass CampaignShow extends Component{\n\n    static async getInitialProps(props){\n        const address=props.query.address;\n        const campaign=Campaign(address)\n        const  summary=await campaign.methods.getSummary().call()\n        console.log(summary)\n        return {\n            address:props.query.address,\n            minimumContribution:summary[0],\n            balance:summary[1],\n            requestsCount:summary[2],\n            approversCount:summary[3],\n            manager:summary[4]\n        };\n    }\n\n    renderCards(){\n        const {\n            balance,manager,minimumContribution,requestsCount,approversCount}=this.props;\n        \n        const items=[{\n          header:manager,\n          meta:'Address of Manager',\n          description :'The manager created this campaign and can create requests to withdraw money.',\n          style:{overflowWrap:'break-word'}\n         },\n         {\n            header:minimumContribution,\n            meta:'Minimum Contribution (wei)',\n            description :'You must contribute at least this much of wei to contribute.',\n            style:{overflowWrap:'break-word'}\n           },\n           {\n            header:requestsCount,\n            meta:'Number of requests',\n            description :'A request try to withdraw money.',\n            style:{overflowWrap:'break-word'}\n           },\n           {\n            header:approversCount,\n            meta:'Number of approvers',\n            description :'Number of people who have already contributed.',\n            style:{overflowWrap:'break-word'}\n           },\n           {\n            header:web3.utils.fromWei(balance,'ether'),\n            meta:'Campaign Balance (ether)',\n            description :'The balance is how much money this campaign has left to spend.',\n            style:{overflowWrap:'break-word'}\n           }\n    ];\n    return <Card.Group items={items}/>\n    }\n\n    render(){\n        return(\n            <Layout>\n            <h1>Campaign show</h1>\n            <Grid>\n            <Grid.Row>\n            <Grid.Column width={10}>\n            {this.renderCards()}\n            </Grid.Column > \n            <Grid.Column width={6}>\n            <ContributeForm  address={this.props.address}/>\n            </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n                <Grid.Column>\n            <Link route={`/campaigns/${this.props.address}/requests`}>\n            <a>\n            <Button primary>View Requests</Button>\n            </a>\n            </Link>\n            </Grid.Column>\n\n            </Grid.Row>\n            </Grid>\n            </Layout>\n        )\n    }\n\n\n\n}\nexport default CampaignShow;\n\n\n"]},"metadata":{},"sourceType":"module"}