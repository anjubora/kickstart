{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests.js.170a74e26d6e99117526.hot-update.js","sources":["webpack:///./components/RequestRow.js"],"sourcesContent":["import React,{Component} from 'react'\nimport {Table,Button} from 'semantic-ui-react';\nimport web3 from '../ethereum/web3';\nimport Campaign from '../ethereum/campaign'\nimport { Router } from '../routes'\n\nclass RequestRow extends Component{\n\n    static async getInitialProps(props){\n        const {address}=props.query;\n       \n        return {address};\n    }\n    onApprove=async (event)=>{\n\n        const {address}=this.props;\n        const accounts=await web3.eth.getAccounts();\n        const campaign=Campaign(address);\n        await campaign.methods.approveRequest(this.props.id).send(\n            {\n                from :accounts[0]\n            }\n        )\n\n        Router.pushRoute(`/campaigns/${address}/requests`)\n    \n   }\n\n   onFinalize=async (event)=>{\n\n    const {address}=this.props;\n    const accounts=await web3.eth.getAccounts();\n    const campaign=Campaign(address);\n    await campaign.methods.finalizeRequest(this.props.id).send(\n        {\n            from :accounts[0]\n        }\n    )\n    Router.pushRoute(`/campaigns/${address}/requests`)\n    \n\n}\n\n\n   render(){\n    const {Row,Cell} =Table;\n    const {id,request,approversCount}=this.props;\n    const readyToFinalize=request.approvalCount>(approversCount/2)\n\n\n    return (\n        <Row disabled={request.complete}  positive={readyToFinalize && !request.complete}>\n            <Cell>{id}</Cell>\n            <Cell>{request.description}</Cell>\n            \n            <Cell>{web3.utils.fromWei(request.value,'ether')}</Cell>\n            <Cell>{`${request.approvalCount}/${approversCount}`}</Cell>\n           \n            <Cell>{ request.complete? null:(\n                  <Button basic color=\"green\" onClick={this.onApprove}>Approve</Button>)\n                  }\n            </Cell>\n           <Cell>{ request.complete? null:(\n            <Button basic color=\"pink\" onClick={this.onFinalize}>Finalize</Button>)}</Cell>\n            \n           \n          \n\n          \n\n            \n        </Row>\n       \n    )\n\n    }\n\n\n}\nexport default RequestRow;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AAJA;AAAA;AAOA;AADA;AACA;AAPA;AAWA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AAJA;AAAA;AAOA;AADA;AACA;AAPA;AAUA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAYA;;;;;;AAnEA;;;;;;AACA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AANA;AACA;AAwEA;;;;A","sourceRoot":""}